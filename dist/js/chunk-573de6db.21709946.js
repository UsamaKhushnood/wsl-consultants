(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-573de6db"],{"14e8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"rejected-leads-page"}},[a("div",{staticClass:"vd_content-wrapper"},[a("div",{staticClass:"vd_content clearfix"},[t._m(0),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{attrs:{id:"Country1"}},[a("div",{staticClass:"widget"},[a("div",{staticClass:"bg-white"},[a("div",{attrs:{id:"new-request-tab-c1"}},[a("CDataTable",{staticClass:"leads-table",attrs:{responsive:"",hover:!0,striped:!0,border:!0,fixed:!1,items:t.items.rejected,columnFilter:"",itemsPerPageSelect:"",itemsPerPage:20,sorter:"",fields:["first_name","whatsapp_num","phone","country","assigned_to","status",{key:"Actions",sorter:!1}],pagination:""},scopedSlots:t._u([{key:"assigned_to",fn:function(e){var s=e.item;return[a("td",[null==s.agent?a("span",{staticClass:"badge badge-pill badge-danger"},[t._v(" unassigned ")]):a("span",[t._v(" "+t._s(null==s.agent?"unassigned":s.agent.first_name)+" ")])])]}},{key:"whatsapp_num",fn:function(e){var s=e.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://api.whatsapp.com/send?phone="+s.whatsapp_num,target:"_blank",title:"Click To Open Whatsapp"}},[t._v(" "+t._s(s.whatsapp_num)+" ")])])]}},{key:"Email",fn:function(e){var s=e.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"mailto:"+s.email,target:"_blank",title:"Click To Send Email"}},[t._v(" "+t._s(s.email)+" ")])])]}},{key:"StudentName",fn:function(e){var s=e.item;return[a("td",[a("p",[t._v(" "+t._s(s.first_name+s.last_name)+" ")])])]}},{key:"PreferredCountry",fn:function(e){var s=e.item;return[a("td",[a("p",[t._v(" "+t._s(s.country)+" ")])])]}},{key:"PhoneNo",fn:function(e){var s=e.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"tel:"+s.phone,title:"Click To Make Phone Call"}},[t._v(" "+t._s(s.phone)+" ")])])]}},{key:"status",fn:function(e){var s=e.item;return[a("td",{staticClass:"status text-center"},[a("b-form-select",{attrs:{size:"sm",options:["New Lead","In Progress","Expected","Not Expected","Approved","On Hold","Rejected"]},on:{change:function(e){return t.changeStatus(s)}},model:{value:s.status,callback:function(e){t.$set(s,"status",e)},expression:"item.status"}})],1)]}},{key:"Actions",fn:function(e){var s=e.index,n=e.item;return[a("td",{staticClass:"menu-action"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"view-details-sidebar"+s,expression:"'view-details-sidebar' + index"}],staticClass:"btn menu-icon vd_bd-green vd_green",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(e){return t.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-eye",attrs:{title:"View Form"}})]),"admin"===t.getUser.type?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"successfully-added-modal"+s,expression:"'successfully-added-modal' + index"}],staticClass:"btn menu-icon vd_bd-yellow vd_yellow",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(e){return t.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-check",attrs:{title:"Assign"}})]):t._e(),"admin"==t.getUser.type?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deny-request-modal"+s,expression:"'deny-request-modal' + index"}],staticClass:"btn menu-icon vd_bd-red vd_red",attrs:{"data-target":"#denyRequest","data-toggle":"modal",item:n.id}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-trash",attrs:{title:"Delete"},on:{click:function(e){return t.setStudent(n.id)}}})]):t._e(),a("AllPopups",{attrs:{propsindex:s}})],1)]}}])})],1)])])])])])])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vd_title-section clearfix"},[a("div",{staticClass:"vd_panel-header"},[a("h1",[a("i",{staticClass:"fas fa-cubes"}),t._v(" Rejected Leads")])])])}],r=a("2f62"),i=(a("6556"),a("f236")),o=a("7387"),d=a("3925"),c=a("bc3a"),l=a.n(c);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v={name:"NewRequest",components:{WidgetsDropdown:i["a"],AllPopups:o["a"],CreateNewLead:d["a"]},data:function(){return{items:[],deleteStudentId:""}},computed:m({},Object(r["b"])(["getUser"])),methods:{getStudent:function(){var t=this;console.log(t.getUser.type);var e="";e="Sales Agent"==t.getUser.type?"https://admin.agentmis.com/api/sales-agent/rejected-leads":"Call Center Agent"==t.getUser.type?"https://admin.agentmis.com/api/call-agent/rejected-leads":"https://admin.agentmis.com/api/admin/rejected-leads",l.a.get(e).then((function(e){console.log("data::",e.data.data),t.items=e.data.data})).catch((function(t){t.response.data.errors.email&&t.response.data.errors.email}))},setStudent:function(t){this.$store.commit("SET_CURRENT_STUDENT",t)},currentStudent:function(t){console.log(t),this.$store.commit("SET_CURRENT_STUDENT",t)},changeStatus:function(t){var e=this,a=this;console.log(t.status);var s="";s="admin"==a.getUser.type?"https://admin.agentmis.com/api/admin/status/"+t.id:"https://admin.agentmis.com/api/sales-agent/status/"+t.id,l.a.post(s,{status:t.status}).then((function(t){console.log("data::",t.data),a.$toast.success(t.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),a.getStudent()})).catch((function(t){var a="";t.response.data.errors.email&&(a+=t.response.data.errors.email),t.response.data.errors.password&&(a+=t.response.data.errors.password),t&&e.$toast.error(a,{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))}},mounted:function(){this.getStudent()}},f=v,g=(a("1be6"),a("2877")),b=Object(g["a"])(f,s,n,!1,null,null,null);e["default"]=b.exports},"1be6":function(t,e,a){"use strict";a("559c")},"559c":function(t,e,a){}}]);
//# sourceMappingURL=chunk-573de6db.21709946.js.map