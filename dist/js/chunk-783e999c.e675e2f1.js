(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-783e999c"],{"27fd":function(e,t,a){},3925:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cerate-new-lead-popup position-relative "},[a("b-modal",{ref:"create_lead_modal",attrs:{id:"create-lead-modal",title:"Create New Lead","header-bg-variant":"dark","header-text-variant":"light",centered:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("div",{staticClass:"modal-body"},[a("form",{staticClass:"form-group",attrs:{id:"myLead"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"agentFirstName"}},[e._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.first_name,expression:"first_name"}],attrs:{type:"text",id:"agentFirstName"},domProps:{value:e.first_name},on:{input:function(t){t.target.composing||(e.first_name=t.target.value)}}})])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"last_name"}},[e._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.last_name,expression:"last_name"}],attrs:{type:"text",id:"last_name"},domProps:{value:e.last_name},on:{input:function(t){t.target.composing||(e.last_name=t.target.value)}}})])])]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"country"}},[e._v("Preferred Country:")]),a("b-form-select",{attrs:{required:"",options:["Austria ","Europe","Canada","Italy","Itly MBBS","Turkey MBBS","UK","USA","Visit Canada","Visit USA"]},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}})],1),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"phone"}},[e._v("Phone Number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",id:"phone"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"whatsapp_num"}},[e._v("Whatsapp Number:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.whatsapp_num,expression:"whatsapp_num"}],attrs:{type:"text",required:"",id:"whatsapp_num"},domProps:{value:e.whatsapp_num},on:{input:function(t){t.target.composing||(e.whatsapp_num=t.target.value)}}})]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"email"}},[e._v("Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",required:"",id:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"cv"}},[e._v("Student CV:")]),a("input",{ref:"file",attrs:{type:"file",required:"",id:"cv"},on:{change:function(t){return e.handleCvUpload(t)}}})]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"agentFirstName"}},[e._v("Screenshots:")]),a("VueUploadMultipleImage",{attrs:{"data-images":e.uploadedImages},on:{"upload-success":e.uploadImageSuccess,"edit-image":e.editImage,"data-change":e.dataChange}}),a("p",{staticClass:"badge mb-0 text-capitalize text-secondary"},[e._v(" max uplaod limit is 5 ")])],1)])])]},proxy:!0},{key:"modal-footer",fn:function(t){var s=t.hide;return[a("div",[a("div",{staticClass:"row mt-4 mr-2 justify-content-end"},[a("b-button",{ref:"cancel",staticClass:"mr-2",attrs:{variant:"dark",squared:""},on:{click:s}},[e._v("Cancel")]),a("b-button",{attrs:{variant:"success",squared:""},on:{click:e.addLead}},[e._v("Create")])],1)]),a("b-overlay",{staticClass:"overlayModal",attrs:{show:e.formOverlay,"no-wrap":""}})]}}])})],1)},n=[],r=a("fc5c"),o=a("bc3a"),i=a.n(o),l=a("2f62");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){u(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m={data:function(){return{visibleLiveDemo:!1,first_name:"",last_name:"",country:"",email:"",phone:"",whatsapp_num:"",cv:"",screenShot:"",imageList:[],uploadedImages:[],formOverlay:!1}},computed:c({},Object(l["b"])(["getUser"])),components:{VueUploadMultipleImage:r["a"]},methods:{handleCvUpload:function(e){var t=this,a=this,s=e.target.files[0],n=new FileReader;n.readAsDataURL(s),n.onload=function(e){a.cv=e.target.result,console.log(t.cv)}},handleScreenshot:function(e){var t=this,a=this,s=e.target.files[0],n=new FileReader;n.readAsDataURL(s),n.onload=function(e){a.screenShot=e.target.result,console.log(t.screenShot)}},addLead:function(){var e=this,t=this,a="";a="Sales Agent"==t.getUser.type?"https://admin.agentmis.com/api/sales-agent/new-leads":"Call Center Agent"==t.getUser.type?"https://admin.agentmis.com/api/call-agent/new-leads":"https://admin.agentmis.com/api/admin/new-leads";new FormData,document.querySelector("#cv"),document.querySelector("#scr");this.formOverlay=!0,i.a.post(a,{first_name:t.first_name,last_name:t.last_name,country:t.country,email:t.email,cv:t.cv,screen_shot:t.imageList,whatsapp_num:t.whatsapp_num,phone:t.phone}).then((function(a){e.formOverlay=!1,console.log("data::",a.data),t.$toast.success(a.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),t.first_name="",t.last_name="",t.country="",t.email="",t.phone="",t.whatsapp_num="",t.cv="",t.screenShot="",t.imageList=[],t.$store.commit("SET_All_STUDENT",!0),t.$getStudent(),t.$refs.cancel.click()})).catch((function(t){e.formOverlay=!1,t&&e.$toast.error(t.response.data.errors,{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))},uploadImageSuccess:function(e,t,a){console.log(e,"index:",t,a,"upload success"),this.imageList.push(a[0].path)},editImage:function(e,t,a){console.log(e,"index:",t,a,"edit image")},dataChange:function(e){console.log(e,"dataChange")}}},p=m,g=a("2877"),f=Object(g["a"])(p,s,n,!1,null,null,null);t["a"]=f.exports},"47e1":function(e,t,a){"use strict";a("27fd")},6556:function(e,t,a){"use strict";var s=[{CreateDate:"9-Oct-2021",StudentName:"Student Name",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:null,AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name2",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"Rejected",AssignedTo:"unassigned",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name3",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"Approved",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"On Hold",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"Approved",AssignedTo:"unassigned",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"Approved",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"In Progress",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"In Progress",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"In Progress",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"In Progress",AssignedTo:"Agent",PhoneNo:"+999-999999-9"},{CreateDate:"9-Oct-2021",StudentName:"Student Name4",Email:"student@gmail.com",Whatsapp:"+999-999999-9",PreferredCountry:"USA",Status:"In Progress",AssignedTo:"Agent",PhoneNo:"+999-999999-9"}];t["a"]=s},"9adf":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"in-progress-leads-page"}},[a("div",{staticClass:"vd_content-wrapper"},[a("div",{staticClass:"vd_content clearfix"},[e._m(0),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{attrs:{id:"Country1"}},[a("div",{staticClass:"widget"},[a("div",{staticClass:"bg-white"},[a("div",{attrs:{id:"new-request-tab-c1"}},[a("CDataTable",{staticClass:"leads-table",attrs:{responsive:"",hover:!0,striped:!0,border:!0,fixed:!1,items:e.items,columnFilter:"",itemsPerPageSelect:"",itemsPerPage:20,sorter:"",fields:["first_name","whatsapp_num","phone","country","assigned_to","status",{key:"Actions",sorter:!1}],pagination:""},scopedSlots:e._u([{key:"assigned_to",fn:function(t){var s=t.item;return[a("td",[null==s.agent?a("span",{staticClass:"badge badge-pill badge-danger"},[e._v(" unassigned ")]):a("span",[e._v(" "+e._s(null==s.agent?"unassigned":s.agent.first_name)+" ")])])]}},{key:"whatsapp_num",fn:function(t){var s=t.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://api.whatsapp.com/send?phone="+s.whatsapp_num,target:"_blank",title:"Click To Open Whatsapp"}},[e._v(" "+e._s(s.whatsapp_num)+" ")])])]}},{key:"Email",fn:function(t){var s=t.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"mailto:"+s.email,target:"_blank",title:"Click To Send Email"}},[e._v(" "+e._s(s.email)+" ")])])]}},{key:"StudentName",fn:function(t){var s=t.item;return[a("td",[a("p",[e._v(" "+e._s(s.first_name+s.last_name)+" ")])])]}},{key:"PreferredCountry",fn:function(t){var s=t.item;return[a("td",[a("p",[e._v(" "+e._s(s.country)+" ")])])]}},{key:"PhoneNo",fn:function(t){var s=t.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"tel:"+s.phone,title:"Click To Make Phone Call"}},[e._v(" "+e._s(s.phone)+" ")])])]}},{key:"status",fn:function(t){var s=t.item;return[a("td",{staticClass:"status text-center"},[a("b-form-select",{attrs:{size:"sm",options:["New Lead","In Progress","Expected","Not Expected","Applied","On Hold","Rejected"]},on:{change:function(t){return e.changeStatus(s)}},model:{value:s.status,callback:function(t){e.$set(s,"status",t)},expression:"item.status"}})],1)]}},{key:"Actions",fn:function(t){var s=t.index,n=t.item;return[a("td",{staticClass:"menu-action"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"view-details-sidebar"+s,expression:"'view-details-sidebar' + index"}],staticClass:"btn menu-icon vd_bd-green vd_green",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(t){return e.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-eye",attrs:{title:"View Form"}})]),"admin"===e.getUser.type?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"successfully-added-modal"+s,expression:"'successfully-added-modal' + index"}],staticClass:"btn menu-icon vd_bd-yellow vd_yellow",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(t){return e.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-check",attrs:{title:"Assign"}})]):e._e(),"admin"==e.getUser.type?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deny-request-modal"+s,expression:"'deny-request-modal' + index"}],staticClass:"btn menu-icon vd_bd-red vd_red",attrs:{"data-target":"#denyRequest","data-toggle":"modal",item:n.id}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-trash",attrs:{title:"Delete"},on:{click:function(t){return e.setStudent(n.id)}}})]):e._e(),a("AllPopups",{attrs:{propsindex:s}})],1)]}}])})],1)])])])])])])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vd_title-section clearfix"},[a("div",{staticClass:"vd_panel-header"},[a("h1",[a("i",{staticClass:"fas fa-cubes"}),e._v(" In Progress Leads")])])])}],r=a("2f62"),o=(a("6556"),a("f236")),i=a("7387"),l=a("3925"),d=a("bc3a"),c=a.n(d);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var g={name:"NewRequest",components:{WidgetsDropdown:o["a"],AllPopups:i["a"],CreateNewLead:l["a"]},data:function(){return{items:[],deleteStudentId:""}},computed:m({},Object(r["b"])(["getUser"])),methods:{getStudent:function(){var e=this;console.log(e.getUser.type);var t="";t="Sales Agent"==e.getUser.type?"https://admin.agentmis.com/api/sales-agent/progress-leads":"Call Center Agent"==e.getUser.type?"https://admin.agentmis.com/api/call-agent/progress-leads":"https://admin.agentmis.com/api/admin/progress-leads",c.a.get(t).then((function(t){console.log("data::",t.data.data),e.items=t.data.data})).catch((function(e){e.response.data.errors.email&&e.response.data.errors.email}))},setStudent:function(e){this.$store.commit("SET_CURRENT_STUDENT",e)},currentStudent:function(e){console.log(e),this.$store.commit("SET_CURRENT_STUDENT",e)},changeStatus:function(e){var t=this,a=this;console.log(e.status);var s="";s="admin"==a.getUser.type?"https://admin.agentmis.com/api/admin/status/"+e.id:"https://admin.agentmis.com/api/sales-agent/status/"+e.id,c.a.post(s,{status:e.status}).then((function(e){console.log("data::",e.data),a.$toast.success(e.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),a.getStudent()})).catch((function(e){var a="";e.response.data.errors.email&&(a+=e.response.data.errors.email),e.response.data.errors.password&&(a+=e.response.data.errors.password),e&&t.$toast.error(a,{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))}},mounted:function(){this.getStudent()}},f=g,v=(a("47e1"),a("2877")),h=Object(v["a"])(f,s,n,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-783e999c.e675e2f1.js.map