(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13199134"],{"4ec5":function(t,e,a){"use strict";a("d2c4")},b08c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"newrequest"}},[a("div",{staticClass:"vd_content-wrapper"},[t._m(0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7 bg-white pt-5 px-4 pb-2",staticStyle:{"border-radius":"5px"}},[a("form",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"agentFirstName"}},[t._v("First Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text",id:"agentFirstName"},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})])]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"agentLastName"}},[t._v("Last Name:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],attrs:{type:"text",id:"agentLastName"},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}})])])]),a("div",{staticClass:"form-element"},[a("label",{attrs:{for:"email"}},[t._v("Enter Email:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"form-element"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("label",{attrs:{for:"password"}},[t._v("Enter password:")]),a("PasswordInput",{attrs:{value:t.password},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"col-4 d-flex align-items-end"},[a("b-button",{attrs:{variant:"dark",block:""},on:{click:t.getPassword}},[t._v("Generate Password ")])],1)])]),a("div",{staticClass:"form-element"},[a("h6",[t._v("Select Agent Type:")]),a("div",{staticClass:"row"},[a("div",{staticClass:"ml-3"},[a("b-form-radio",{attrs:{type:"radio",name:"agentType",id:"callCenterAgent",value:"Call Center Agent"},model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}},[t._v(" Call Center Agent")])],1),a("div",{staticClass:"ml-3"},[a("b-form-radio",{attrs:{type:"radio",name:"agentType",id:"saleAgent",value:"Sales Agent"},model:{value:t.agentType,callback:function(e){t.agentType=e},expression:"agentType"}},[t._v("Sales Agent ")])],1)])]),a("div",{staticClass:"row"},[a("b-button",{staticClass:"ml-auto mr-3 w-25",attrs:{variant:"dark"},on:{click:function(e){return e.preventDefault(),t.addAgent(e)}}},[t._v("Create")])],1)])])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"agentsList ml-2 p-4 py-2 bg-white"},[a("div",{staticClass:"d-flex mb-4 align-items-center justify-content-between"},[a("h2",[t._v("Agents List")]),a("router-link",{attrs:{to:"/dashboard/agents"}},[a("b-button",{attrs:{variant:"dark",size:"sm"}},[t._v("View All")])],1)],1),t._l(t.agents_list,(function(e,s){return a("div",{key:s,staticClass:"agent d-flex p-3 bg-gray-100 mb-2 align-items-center"},[a("div",{staticClass:"mr-3"},[a("b-avatar",[t._v(" "+t._s(e.first_name.split(" ").map((function(t){return t.charAt(0)})).join("").toUpperCase())+" ")])],1),a("div",[a("h5",{staticClass:"mb-0"},[t._v(t._s(e.first_name))]),a("p",{staticClass:"m-0"},[t._v(t._s(e.type))])]),a("div",{staticClass:"ml-auto "},[a("b-button",{attrs:{size:"sm",variant:"dark"},on:{click:function(e){return t.copyCredentials(s)}}},[t._v("Copy Credentials")]),a("b-button",{staticClass:"ml-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.deleteAgents(e.id)}}},[a("b-icon",{attrs:{icon:"trash"}})],1)],1)])}))],2)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vd_content clearfix"},[a("div",{staticClass:"vd_title-section clearfix"},[a("div",{staticClass:"vd_panel-header"},[a("h1",[a("i",{staticClass:"fa fa-plus-square mr-3"}),t._v("Add New Agent")])])])])}],r=a("bc3a"),o=a.n(r),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"position-relative"},["checkbox"===(t.visible?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"=password",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,n=!!s.checked;if(Array.isArray(a)){var r=null,o=t._i(a,r);s.checked?o<0&&(t.password=a.concat([r])):o>-1&&(t.password=a.slice(0,o).concat(a.slice(o+1)))}else t.password=n}}}):"radio"===(t.visible?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"=password",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"=password",type:t.visible?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),!1===t.visible?a("b-icon",{staticClass:"fa-2x passwordEyeIcon",attrs:{icon:"eye"},on:{click:function(e){t.visible=!0}}}):a("b-icon",{staticClass:"fa-2x passwordEyeIcon",attrs:{icon:"eye-slash"},on:{click:function(e){t.visible=!1}}})],1)},c=[],l={props:["value"],data:function(){return{visible:!0}},computed:{password:function(){return this.value}}},d=l,p=(a("4ec5"),a("2877")),u=Object(p["a"])(d,i,c,!1,null,"46a1f512",null),m=u.exports,f=a("b7df");function g(t){return h(t)||w(t)||b(t)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(t,e){if(t){if("string"===typeof t)return y(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?y(t,e):void 0}}function w(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return y(t)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var _={mixins:[f["a"]],components:{PasswordInput:m},data:function(){return{agentType:"Call Center Agent",first_name:"",last_name:"",email:"",password:null,agents_list:[]}},methods:{trigger:function(){this.$refs.sendReq.click()},addAgent:function(){var t=this,e=this;this.$http.post("https://admin.agentmis.com/api/register",{type:this.agentType,first_name:this.first_name,last_name:this.last_name,email:this.email,password:this.password}).then((function(t){console.log("s",t.data.message),e.$toast.success(t.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),e.getAgents(),e.first_name="",e.last_name="",e.email="",e.password=""})).catch((function(e){var a="";e.response.data.errors.email&&(a+=e.response.data.errors.email),e.response.data.errors.password&&(a+=e.response.data.errors.password),e&&t.$toast.error(a,{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))},getAgents:function(){var t=this;o.a.get("https://admin.agentmis.com/api/admin/agents").then((function(e){t.agents_list=e.data.data})).catch((function(t){t.response.data.errors.email&&t.response.data.errors.email}))},deleteAgents:function(t){var e=this;o.a.delete("https://admin.agentmis.com/api/admin/agents/"+t).then((function(t){e.isModalVisible=!1,e.$toast.success(t.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),e.getAgents()})).catch((function(t){t.response.data.errors.email&&t.response.data.errors.email}))},sendTo:function(t){window.open(t,"_blank")},copyCredentials:function(t){var e=this,a="Email: ".concat(this.agents_list[t].email,"\nPassword: ").concat(this.agents_list[t].encrypt_password);navigator.clipboard.writeText(a).then((function(){e.isModalVisible=!1,e.$toast.success("Successfully Copied",{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}),(function(){e.isModalVisible=!1,e.$toast.error("Something went wrong",{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))},getPassword:function(){var t="",e=12,a="!#$%&()*+,-./:;<=>?@[]^_|~".split(""),s=[0,1,2,3,4,5,6,7,8,9],n=new Array(26).fill().map((function(t,e){return String.fromCharCode(e+65)})),r=g(n);t+=this.randomPick(s),e--,r=r.concat(s),t+=this.randomPick(a),e--,r=r.concat(a);for(var o=0;o<e;o++){var i=this.randomPick(r);if(/[A-Z]/.test(i)){var c=Math.random();i=c<.5?i.toLowerCase():i}t+=i}this.password=t},randomPick:function(t){return t[Math.floor(Math.random()*t.length)]}},created:function(){this.getAgents()}},C=_,A=Object(p["a"])(C,s,n,!1,null,null,null);e["default"]=A.exports},b7df:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var s=a("2f62"),n=a("bc3a"),r=a.n(n);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){c(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var l={computed:i({},Object(s["b"])(["getSelectedStudent","getUser"])),data:function(){return{selectedStudentMix:""}},methods:{getStudent:function(){var t=this;console.log(t.getUser.type);var e="";e="Sales Agent"==t.getUser.type?"https://admin.agentmis.com/api/sales-agent/students":"Call Center Agent"==t.getUser.type?"https://admin.agentmis.com/api/call-agent/students":"https://admin.agentmis.com/api/admin/students",r.a.get(e).then((function(e){console.log("data::",e.data.data),t.$store.commit("SET_ITEMS",e.data.data),t.getLeadCounts()})).catch((function(t){console.log("(error.response.status",error.response.status),console.log("errors.response.data",t.response.data.errors)}))},getLeadCounts:function(){var t=this;console.log(t.getUser.type);var e="";e="https://admin.agentmis.com/api/count-leads",r.a.get(e).then((function(e){console.log("data::",e.data.data),t.$store.commit("SET_LEADS",e.data.data)})).catch((function(t){console.log("(error.response.status",error.response.status),console.log("errors.response.data",t.response.data.errors)}))}},mounted:function(){},created:function(){}}},d2c4:function(t,e,a){}}]);
//# sourceMappingURL=chunk-13199134.2d8dffe3.js.map