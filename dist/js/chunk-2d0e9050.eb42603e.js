(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9050"],{"8c6e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"agent-profile"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"d-flex bg-black py-3 px-3 radius-10 text-white"},[a("div",{staticClass:"mr-3"},[a("b-avatar",{attrs:{size:"lg"}},[t._v(" "+t._s(t.getCurrentAgent.first_name?t.getCurrentAgent.first_name:"Agent Name".split(" ").map((function(t){return t.charAt(0)})).join("").toUpperCase())+" ")])],1),a("div",[a("h5",{staticClass:"mb-0"},[t._v(t._s(t.getCurrentAgent.name))]),a("p",{staticClass:"m-0 text-primary text-bold"},[t._v(" "+t._s(t.getCurrentAgent.type)+" ")])]),a("div",{staticClass:"ml-auto align-self-baseline"},[t.getCurrentAgent.created_at?a("p",[t._v(" Created At: "),a("span",{staticClass:"text-bold"},[t._v(" "+t._s(t.getCurrentAgent.created_at))])]):t._e(),a("p")])])])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"bg-white radius-10 py-3 px-3"},[a("h5",{staticClass:"agent-progress text-black text-bold"},[t._v("Agent's Progress")]),a("div",{staticClass:"row"},["sales agent"===t.getAgent.type.toLowerCase()?a("div",{staticClass:"col-6"},[a("h6",{staticClass:"text-text badge badge-dark f-14"},[t._v(" "+t._s(t.items.length>0?"Total Leads:"+t.items.length:"No Leads Assgined yet")+" ")]),a("CChartPie",{attrs:{datasets:t.salesAgentData,labels:["New Leads","In Progress","On Hold","Expected","Not Expected","Applied","Rejected"]}})],1):a("div",{staticClass:"col-6"},[a("CChartBar",{attrs:{datasets:t.callCenterAgentData,labels:"months"}})],1)])])])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"bg-white radius-10 py-3 px-3"},[a("h5",{staticClass:"agent-progress text-black text-bold"},[t._v(" Agent's Leads ")]),a("CDataTable",{staticClass:"leads-table",attrs:{responsive:"",hover:!0,striped:!0,border:!0,fixed:!1,items:t.items,columnFilter:"",itemsPerPageSelect:"",itemsPerPage:5,sorter:"",fields:["first_name","whatsapp_num","phone","country","status",{key:"action",sorter:!1,filter:!1}],pagination:""},scopedSlots:t._u([{key:"whatsapp_num",fn:function(e){var s=e.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"https://api.whatsapp.com/send?phone="+s.whatsapp_num,target:"_blank",title:"Click To Open Whatsapp"}},[t._v(" "+t._s(s.whatsapp_num)+" ")])])]}},{key:"PreferredCountry",fn:function(e){var s=e.item;return[a("td",[a("p",[t._v(" "+t._s(s.country)+" ")])])]}},{key:"phone",fn:function(e){var s=e.item;return[a("td",[a("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:"tel:"+s.phone,title:"Click To Make Phone Call"}},[t._v(" "+t._s(s.phone)+" ")])])]}},{key:"status",fn:function(e){var s=e.item;return[a("td",{staticClass:"status text-center"},[a("span",{staticClass:"badge badge-pill",class:["In Progress"==s.status?"badge-success":"New Lead"==s.status?"badge-info":"On Hold"==s.status?"badge-warning":"Expected"==s.status?"badge-dark":"Applied"==s.status?"badge-success":"Not Expected"==s.status||"Rejected"==s.status?"badge-danger":"badge-warning"]},[t._v(" "+t._s(s.status)+" ")])])]}},{key:"action",fn:function(e){var s=e.index,n=e.item;return[a("td",{staticClass:"menu-action"},[a("a",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"view-details-sidebar"+s,expression:"'view-details-sidebar' + index"}],staticClass:"btn menu-icon vd_bd-green vd_green",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(e){return t.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-eye",attrs:{title:"View Form"}})]),a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"successfully-added-modal"+s,expression:"'successfully-added-modal' + index"}],staticClass:"btn menu-icon vd_bd-yellow vd_yellow",attrs:{"data-target":"#viewAccept","data-toggle":"modal"},on:{click:function(e){return t.currentStudent(n)}}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-check",attrs:{title:"Assign"}})]),"admin"==t.getUser.type?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"deny-request-modal"+s,expression:"'deny-request-modal' + index"}],staticClass:"btn menu-icon vd_bd-red vd_red",attrs:{"data-target":"#denyRequest","data-toggle":"modal",item:n.id}},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"fa fa-trash",attrs:{title:"Delete"},on:{click:function(e){return t.setStudent(n)}}})]):t._e(),a("AllPopups",{attrs:{propsindex:s}})],1)]}}])})],1)])]),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"bg-white radius-10 py-3 px-3"},[a("h5",{staticClass:"agent-progress text-black text-bold"},[t._v(" Agent's Login History ")]),a("CDataTable",{attrs:{items:t.history,fields:["day","login_time","logout_time"],itemsPerPageSelect:"",itemsPerPage:t.itemsPerPage,striped:"",hover:"",sorter:"",pagination:""}})],1)])])])},n=[],i=a("b7df"),r=a("f485"),o=a("7387"),l=a("2f62"),c=a("bc3a"),d=a.n(c);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function g(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h={mixins:[i["a"]],components:{CChartPie:r["CChartPie"],CChartBar:r["CChartBar"],AllPopups:o["a"]},data:function(){return{items:[],deleteStudentId:"",currentPage:1,itemsPerPage:3,resultCount:0,history:[],salesAgentDataArr:[],callCenterAgentDataArr:[]}},computed:g(g(g({},Object(l["b"])(["getUser","getAllStudent","getAgent","getCurrentAgent"])),Object(l["c"])(["allStudent","allStudentData"])),{},{totalPages:function(){return 0==this.resultCount?1:Math.ceil(this.resultCount/this.itemsPerPage)},paginate:function(){if(this.articles&&this.articles.length==this.articles.length){this.resultCount=this.articles.length,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages);var t=this.currentPage*this.itemsPerPage-this.itemsPerPage;return this.articles.slice(t,t+this.itemsPerPage)}},salesAgentData:function(){return[{label:"GitHub Commits",backgroundColor:["#130f40","#3498db","#e67e22","#8e44ad","#bdc3c7","#27ae60","#c0392b"],data:this.salesAgentDataArr}]},callCenterAgentData:function(){return[{label:"Total Leads",backgroundColor:"#130f40",data:this.callCenterAgentDataArr}]}}),methods:{setPage:function(t){this.currentPage=t},setStudent:function(t){this.$store.commit("SET_CURRENT_STUDENT",null),this.$store.commit("SET_CURRENT_STUDENT",t)},changeStatus:function(t){var e=this,a=this;console.log(t.status);var s="";s="admin"==a.getUser.type?"https://admin.agentmis.com/api/admin/status/"+t.id:"https://admin.agentmis.com/api/sales-agent/status/"+t.id,d.a.post(s,{status:t.status}).then((function(t){a.$toast.success(t.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1}),a.$getStudent()})).catch((function(t){t&&e.$toast.error(t.response.data.message,{position:"top-right",closeButton:"button",icon:!0,rtl:!1})}))},currentStudent:function(t){this.$store.commit("SET_CURRENT_STUDENT",{}),this.$store.commit("SET_CURRENT_STUDENT",t)},getAgentHistory:function(t){var e=this;d.a.get("https://admin.agentmis.com/api/admin/agent-login-history/"+t).then((function(t){console.log("data::",t.data.data),e.history=t.data.data})).catch((function(t){}))},getAgentLeads:function(t){var e=this;d.a.get("https://admin.agentmis.com/api/admin/agent-leads/"+t).then((function(t){console.log("data::",t.data.data),e.items=t.data.data})).catch((function(t){}))},getSaleAgentCounts:function(t){var e=this;d.a.get("https://admin.agentmis.com/api/admin/sale-agent-chart/"+t).then((function(t){console.log("salesAgentDataArr::",t.data.data),e.salesAgentDataArr.push(t.data.data.new_lead),e.salesAgentDataArr.push(t.data.data.in_progress),e.salesAgentDataArr.push(t.data.data.on_hold),e.salesAgentDataArr.push(t.data.data.expected),e.salesAgentDataArr.push(t.data.data.not_expected),e.salesAgentDataArr.push(t.data.data.applied),e.salesAgentDataArr.push(t.data.data.rejected)})).catch((function(t){}))},getCallAgentCounts:function(t){var e=this;d.a.get("https://admin.agentmis.com/api/admin/call-agent-chart/"+t).then((function(t){console.log("callCenterAgentDataArr::",t.data.data),$.each(t.data.data,(function(t,a){e.callCenterAgentDataArr.push(a)}))})).catch((function(t){}))}},mounted:function(){},watch:{},created:function(){var t=this.$route.params.id;this.$getStudent(),this.getAgentHistory(t),this.getAgentLeads(t),this.getSaleAgentCounts(t),this.getCallAgentCounts(t)}},m=h,v=a("2877"),b=Object(v["a"])(m,s,n,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0e9050.eb42603e.js.map